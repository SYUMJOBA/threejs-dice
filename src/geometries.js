import { Vec3 } from "cannon-es";

export default class GeometryBucket {
    points;
    faces;
    uvs;

    constructor(points, faces, uvs = undefined) {
        this.points = points;
        this.faces = faces;
        this.uvs = uvs;
    }
}

export function applyUVsToGeometry(uvMatrix, geometry) {
    let i = 0;
    uvMatrix.forEach(coord => {
        geometry.attributes.uv.set(coord, i*2);
        i++;
    });
    geometry.attributes.uv.needsUpdate = true;
}

export function extractVecArrayAsList(numArray) {
    const buffer = [];
    numArray.forEach(e => {
        buffer.push(e.x),
        buffer.push(e.y),
        buffer.push(e.z)
    });
    return buffer;
}

export function extractNumMatrixAsList(numMatrix) {
    const buffer = [];
    numMatrix.forEach(e => {
        e.forEach(i => {buffer.push(i)});
    });
    return buffer;
}

export const srcGeometries = {
    4: new GeometryBucket(
        [
            new Vec3(0.0, 0.0, 1.0),
            new Vec3(0.9428090453147888, 0.0, -0.3333333432674408),
            new Vec3(-0.4714045226573944, 0.8164966106414795, -0.3333333432674408),
            new Vec3(-0.4714045226573944, -0.8164966106414795, -0.3333333432674408),
        ],
        [
            [0, 1, 2],
            [0, 2, 3],
            [0, 3, 1],
            [1, 3, 2],
        ],
        [
            [0.610511302947998, 0.8103421926498413],
            [0.711689829826355, 0.6567227244377136],
            [0.805730402469635, 0.8143925070762634],
            [0.3953303098678589, 0.4906896650791168],
            [0.5005965232849121, 0.3361230492591858],
            [0.6040992736816406, 0.49224135279655457],
            [0.29311373829841614, 0.6551709771156311],
            [0.3930887281894684, 0.8112890124320984],
            [0.18961122632026672, 0.8081855773925781],
            [0.6035388112068176, 0.17629677057266235],
            [0.710568904876709, 0.335518479347229],
            [0.505327582359314, 0.335518479347229],
        ]
    ),
    8: new GeometryBucket(
        [
            new Vec3(1.0, 0.0, 0.0),
            new Vec3(-1.0, 0.0, 0.0),
            new Vec3(0.0, 1.0, 0.0),
            new Vec3(0.0, -1.0, 0.0),
            new Vec3(0.0, 0.0, 1.0),
            new Vec3(0.0, 0.0, -1.0),
        ],
        [
            [4, 0, 2],
            [4, 2, 1],
            [4, 1, 3],
            [4, 3, 0],
            [5, 2, 0],
            [5, 1, 2],
            [5, 3, 1],
            [5, 0, 3],
        ]
    ),
    10: new GeometryBucket(
        [
            new Vec3(0.0, 0.0, 1.0),
            new Vec3(0.0, 0.0, -1.0),
            new Vec3(0.8147122859954834, 0.26471614837646484, 0.10557282716035843),
            new Vec3(0.5035199522972107, 0.6930356621742249, -0.10557278990745544),
            new Vec3(2.4403665754846315e-09, 0.8566392064094543, 0.10557283461093903),
            new Vec3(0.5035198926925659, -0.6930355429649353, 0.10557279735803604),
            new Vec3(0.8147122263908386, -0.26471608877182007, -0.10557281225919724),
            new Vec3(2.4403661313954217e-09, -0.8566390872001648, -0.10557280480861664),
            new Vec3(-0.5035198926925659, -0.6930355429649353, 0.10557279735803604),
            new Vec3(-0.8147122263908386, -0.26471608877182007, -0.10557281225919724),
            new Vec3(-0.8147122859954834, 0.26471614837646484, 0.10557282716035843),
            new Vec3(-0.5035199522972107, 0.6930356621742249, -0.10557278990745544),
        ],
        [
            [2, 4, 0],
            [2, 5, 6],
            [5, 8, 7],
            [8, 10, 9],
            [4, 10, 0],
            [7, 6, 5],
            [6, 3, 2],
            [3, 11, 4],
            [11, 9, 10],
            [7, 9, 1],
            [2, 3, 4],
            [2, 0, 5],
            [5, 0, 8],
            [8, 0, 10],
            [4, 11, 10],
            [7, 1, 6],
            [6, 1, 3],
            [3, 1, 11],
            [11, 1, 9],
            [7, 8, 9],
        ]
    ),
    12: new GeometryBucket(
        [
            new Vec3(0.5773502588272095, 0.5773502588272095, 0.5773502588272095),
            new Vec3(0.5773502588272095, 0.5773502588272095, -0.5773502588272095),
            new Vec3(0.5773502588272095, -0.5773502588272095, 0.5773502588272095),
            new Vec3(0.5773502588272095, -0.5773502588272095, -0.5773502588272095),
            new Vec3(-0.5773502588272095, 0.5773502588272095, 0.5773502588272095),
            new Vec3(-0.5773502588272095, 0.5773502588272095, -0.5773502588272095),
            new Vec3(-0.5773502588272095, -0.5773502588272095, 0.5773502588272095),
            new Vec3(-0.5773502588272095, -0.5773502588272095, -0.5773502588272095),
            new Vec3(0.35682210326194763, 0.9341723322868347, 0.0),
            new Vec3(-0.35682210326194763, 0.9341723322868347, 0.0),
            new Vec3(0.35682210326194763, -0.9341723322868347, 0.0),
            new Vec3(-0.35682210326194763, -0.9341723322868347, 0.0),
            new Vec3(0.9341723322868347, 0.0, 0.35682210326194763),
            new Vec3(0.9341723322868347, 0.0, -0.35682210326194763),
            new Vec3(-0.9341723322868347, 0.0, 0.35682210326194763),
            new Vec3(-0.9341723322868347, 0.0, -0.35682210326194763),
            new Vec3(0.0, 0.35682210326194763, 0.9341723322868347),
            new Vec3(0.0, -0.35682210326194763, 0.9341723322868347),
            new Vec3(0.0, 0.35682210326194763, -0.9341723322868347),
            new Vec3(0.0, -0.35682210326194763, -0.9341723322868347),
        ],
        [
            [8, 16, 0],
            [8, 9, 4],
            [12, 8, 0],
            [12, 13, 1],
            [16, 12, 0],
            [16, 17, 2],
            [1, 9, 8],
            [1, 18, 5],
            [2, 13, 12],
            [2, 10, 3],
            [4, 17, 16],
            [4, 14, 6],
            [5, 4, 9],
            [5, 15, 14],
            [11, 17, 6],
            [11, 10, 2],
            [19, 13, 3],
            [19, 18, 1],
            [7, 18, 19],
            [15, 5, 18],
            [7, 14, 15],
            [11, 6, 14],
            [7, 10, 11],
            [19, 3, 10],
            [8, 4, 16],
            [12, 1, 8],
            [16, 2, 12],
            [1, 5, 9],
            [2, 3, 13],
            [4, 6, 17],
            [5, 14, 4],
            [11, 2, 17],
            [19, 1, 13],
            [7, 15, 18],
            [7, 11, 14],
            [7, 19, 10],
        ]
    ),
    20: new GeometryBucket(
        [
            new Vec3(0.8506507873535156, 0.525731086730957, 0.0),
            new Vec3(-0.8506507873535156, 0.525731086730957, 0.0),
            new Vec3(0.8506507873535156, -0.525731086730957, 0.0),
            new Vec3(-0.8506507873535156, -0.525731086730957, 0.0),
            new Vec3(0.525731086730957, 0.0, 0.8506507873535156),
            new Vec3(0.525731086730957, 0.0, -0.8506507873535156),
            new Vec3(-0.525731086730957, 0.0, 0.8506507873535156),
            new Vec3(-0.525731086730957, 0.0, -0.8506507873535156),
            new Vec3(0.0, 0.8506507873535156, 0.525731086730957),
            new Vec3(0.0, -0.8506507873535156, 0.525731086730957),
            new Vec3(0.0, 0.8506507873535156, -0.525731086730957),
            new Vec3(0.0, -0.8506507873535156, -0.525731086730957),
        ],
        [
            [0, 8, 4],
            [0, 5, 10],
            [2, 4, 9],
            [2, 11, 5],
            [1, 6, 8],
            [1, 10, 7],
            [3, 9, 6],
            [3, 7, 11],
            [0, 10, 8],
            [1, 8, 10],
            [2, 9, 11],
            [3, 11, 9],
            [4, 2, 0],
            [5, 0, 2],
            [6, 1, 3],
            [7, 3, 1],
            [8, 6, 4],
            [9, 4, 6],
            [10, 5, 7],
            [11, 7, 5],
        ],
        [
            [0.6059942841529846, 0.49227648973464966],
            [0.7073489427566528, 0.6526424884796143],
            [0.4993334710597992, 0.6512209177017212],
            [0.6059942841529846, 0.49227648973464966],
            [0.5027413964271545, 0.33577242493629456],
            [0.7087998986244202, 0.3331265151500702],
            [0.3967140316963196, 0.4925273060798645],
            [0.4993334710597992, 0.6512209177017212],
            [0.2919459342956543, 0.6517196893692017],
            [0.3967140316963196, 0.4925273060798645],
            [0.29493945837020874, 0.3357105255126953],
            [0.5027413964271545, 0.33577242493629456],
            [0.8080124258995056, 0.8167975544929504],
            [0.7101756930351257, 0.9702852964401245],
            [0.608577311038971, 0.8124687671661377],
            [0.5040212869644165, 0.3328344523906708],
            [0.6082802414894104, 0.1760680377483368],
            [0.7077430486679077, 0.3362899720668793],
            [0.19070985913276672, 0.8100963234901428],
            [0.2919459342956543, 0.6517196893692017],
            [0.39540374279022217, 0.8104590177536011],
            [0.29318052530288696, 0.3335084617137909],
            [0.19101838767528534, 0.17370201647281647],
            [0.3940155804157257, 0.1753145307302475],
            [0.6059942841529846, 0.49227648973464966],
            [0.8163903951644897, 0.49295279383659363],
            [0.7073489427566528, 0.6526424884796143],
            [0.9156029224395752, 0.6492127180099487],
            [0.7073489427566528, 0.6526424884796143],
            [0.8163903951644897, 0.49295279383659363],
            [0.3967140316963196, 0.4925273060798645],
            [0.2919459342956543, 0.6517196893692017],
            [0.18734893202781677, 0.4939850866794586],
            [0.08488312363624573, 0.6533734798431396],
            [0.18734893202781677, 0.4939850866794586],
            [0.2919459342956543, 0.6517196893692017],
            [0.4993334710597992, 0.6512209177017212],
            [0.3967140316963196, 0.4925273060798645],
            [0.6059942841529846, 0.49227648973464966],
            [0.5027413964271545, 0.33577242493629456],
            [0.6059942841529846, 0.49227648973464966],
            [0.3967140316963196, 0.4925273060798645],
            [0.8089472651481628, 0.8120107650756836],
            [0.6087054014205933, 0.8121424317359924],
            [0.7111334204673767, 0.6547126770019531],
            [0.8118059635162354, 0.17646367847919464],
            [0.610598087310791, 0.17678560316562653],
            [0.710383415222168, 0.33128276467323303],
            [0.7073489427566528, 0.6526424884796143],
            [0.6052933931350708, 0.8135624527931213],
            [0.4993334710597992, 0.6512209177017212],
            [0.2919459342956543, 0.6517196893692017],
            [0.4993334710597992, 0.6512209177017212],
            [0.39540374279022217, 0.8104590177536011],
            [0.4971621632575989, 0.3343426585197449],
            [0.39327678084373474, 0.17669568955898285],
            [0.2932550013065338, 0.3331865072250366],
            [0.3940155804157257, 0.1753145307302475],
            [0.19101838767528534, 0.17370201647281647],
            [0.29274141788482666, 0.012214269489049911],
        ]
    )
}